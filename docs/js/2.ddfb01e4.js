(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"8b24":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"flex flex-center"},[e("MyColor",{staticClass:"fullscreen"})],1)},n=[],a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-color",on:{click:t.togglePlay,contextmenu:function(s){return s.preventDefault(),t.save(s)}}},[e("div",{staticClass:"charts"},[e("canvas",{ref:"canvas",staticClass:"absolute-full",style:{background:t.color}}),e("div",{staticClass:"samples absolute-full flex flex-center",on:{click:function(t){t.stopPropagation()}}},[e("q-slider",{staticClass:"absolute",attrs:{color:"accent",min:0,max:t.max,step:10,label:"","label-text-color":"secondary",reverse:""},model:{value:t.samples,callback:function(s){t.samples=s},expression:"samples"}})],1)]),e("q-resize-observer",{on:{resize:t.initCanvas}})],1)},r=[],h=(e("6b54"),e("06db"),e("a357")),o=e("2ef0"),l=e("5d0f"),c=e.n(l),m=300,u=3,p="rgba(255,0,0,0.25)",f="rgba(0,255,0,0.25)",g="rgba(0,0,255,0.25)",b=function(t,s,e){return Math.abs(t-s)/e},y={name:"MyColor",data:function(){return{sample:{r:[],g:[],b:[]},history:{r:[],g:[],b:[],all:[],mean:[],stdev:[],z:[]},chart:null,timer:null,samples:this.$q.localStorage.getItem("samples")||m,min:10,max:window.innerWidth}},computed:{mean:function(){return{r:Object(o["mean"])(this.sample.r),g:Object(o["mean"])(this.sample.g),b:Object(o["mean"])(this.sample.b),sample:Object(o["mean"])(this.history.all.slice(0,this.samples)),history:Object(o["mean"])(this.history.all)}},stdev:function(){var t=this;return{sample:Math.sqrt(Object(o["mean"])(this.history.all.slice(0,this.samples).map((function(s){return Math.pow(s-t.mean.sample,2)})))),history:Math.sqrt(Object(o["mean"])(this.history.all.map((function(s){return Math.pow(s-t.mean.history,2)}))))}},z:function(){var t=this.mean.sample,s=this.stdev.sample,e=b(this.r,t,s),i=b(this.g,t,s),n=b(this.b,t,s);return Object(o["mean"])([e,i,n])},r:function(){return Math.round(this.mean.r)},g:function(){return Math.round(this.mean.g)},b:function(){return Math.round(this.mean.b)},color:function(){return this.getColor(0).toString()}},methods:{getColor:function(t){var s=new c.a(this.history.r[t],this.history.g[t],this.history.b[t]);return s},run:function(){if(this.samples){while(this.sample.r.length<=this.samples)this.sample.r.unshift(Math.round(255*Math.random())),this.sample.g.unshift(Math.round(255*Math.random())),this.sample.b.unshift(Math.round(255*Math.random()));while(this.sample.r.length>this.samples)this.sample.r.pop(),this.sample.g.pop(),this.sample.b.pop();this.history.r.unshift(this.r),this.history.g.unshift(this.g),this.history.b.unshift(this.b),this.history.all.unshift(this.r,this.g,this.b),this.history.mean.unshift(this.mean.sample),this.history.stdev.unshift(this.stdev.history),this.history.z.unshift(this.z);while(this.history.r.length>this.$refs.canvas.width)this.history.r.pop(),this.history.g.pop(),this.history.b.pop(),this.history.all.pop(),this.history.all.pop(),this.history.all.pop(),this.history.mean.pop(),this.history.stdev.pop(),this.history.z.pop();this.drawChart(),this.timer=requestAnimationFrame(this.run)}},start:function(){this.stop(),this.run()},stop:function(){cancelAnimationFrame(this.timer),this.timer=null},save:function(){var t=new Date,s="MyColor ".concat(t.toISOString(),".png");this.$refs.canvas.toBlob((function(t){return Object(h["a"])(s,t)}),"image/png")},togglePlay:function(){this.timer?this.stop():this.start()},initCanvas:function(){this.max=this.$refs.canvas.width=window.innerWidth,this.$refs.canvas.height=window.innerHeight},drawChart:function(){var t=this,s=this.$refs.canvas,e=this.chart,i=u*this.stdev.sample,n=(this.stdev.history,s.height/2),a=(s.height,s.height,s.width),r=a-this.sample.r.length;e.fillStyle=this.color,e.fillRect(0,0,s.width,s.height);for(var h=0;h<this.history.r.length;h++){var o=this.getColor(h),l=s.height*u*this.history.stdev[h]/255;e.strokeStyle=o.clone().tune({l:-10}).toString(),e.lineWidth=1,e.beginPath(),e.moveTo(a-h,n-l),e.lineTo(a-h,n+l),e.stroke();var c=1-this.history.mean[h]/255,m=s.height*c,b=s.height*this.history.z[h]*this.history.stdev[h]/255;e.strokeStyle=o.toString(),e.beginPath(),e.moveTo(a-h,m-b),e.lineTo(a-h,m+b),e.stroke(),e.strokeStyle=o.clone().tune({s:30*Math.abs(c)}).toString(),e.beginPath(),e.moveTo(a-h,m),e.lineTo(a-h,n),e.stroke(),e.strokeStyle="rgba(255, 255, 255, 0.25)",e.beginPath(),e.moveTo(a-h,m),e.lineTo(a-h,m+(m<n?1:-1)),e.stroke()}e.lineWidth=1,["r","g","b"].forEach((function(s){var i=t.history[s];e.strokeStyle="r"===s?p:"g"===s?f:g,e.beginPath(),e.moveTo(a,t.y(i[0])),i.forEach((function(s,i){e.lineTo(a-i,t.y(s))})),e.stroke()})),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.beginPath(),e.moveTo(r,0),e.lineTo(r,s.height),e.moveTo(r,n),e.lineTo(a,n),e.stroke(),e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.5)",e.moveTo(0,n),e.lineTo(r,n),e.stroke();var y=s.height*i/255,v=(1-this.mean.sample/255)*s.height;e.fillStyle="rgba(255,255,255,0.1)",e.fillRect(r,v-y,a-r,2*y),e.fillStyle="rgba(255,255,255,0.2)",e.fillRect(r,Math.min(n,v),a-r,Math.abs(n-v))},y:function(t){return(1-t/255)*this.$refs.canvas.height}},watch:{samples:function(t,s){this.$q.localStorage.set("samples",t),t&&!s&&this.run()}},mounted:function(){var t=this.$refs.canvas,s=t.getContext("2d");this.chart=s,this.start()},beforeDestroy:function(){this.stop()}},v=y,d=(e("a535"),e("2877")),w=e("eebe"),M=e.n(w),k=e("c1d0"),C=e("3980"),S=Object(d["a"])(v,a,r,!1,null,null,null),T=S.exports;M()(S,"components",{QSlider:k["a"],QResizeObserver:C["a"]});var x={name:"PageIndex",components:{MyColor:T}},O=x,P=e("9989"),j=Object(d["a"])(O,i,n,!1,null,null,null);s["default"]=j.exports;M()(j,"components",{QPage:P["a"]})},a535:function(t,s,e){"use strict";var i=e("e23b"),n=e.n(i);n.a},e23b:function(t,s,e){}}]);
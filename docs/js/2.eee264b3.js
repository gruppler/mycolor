(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"8b24":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"flex flex-center"},[e("MyColor",{staticClass:"fullscreen"})],1)},h=[],n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-color",style:{background:t.color},on:{click:t.togglePlay,contextmenu:function(s){return s.preventDefault(),t.toggleView(s)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"charts"},[e("canvas",{ref:"canvas",staticClass:"absolute-full"}),e("div",{staticClass:"samples absolute-full flex flex-center",on:{click:function(t){t.stopPropagation()}}},[e("q-slider",{staticClass:"absolute",attrs:{color:"accent",value:t.samples,min:0,max:t.max,step:10,label:"","label-text-color":"secondary",reverse:""},on:{change:function(s){return t.samples=s}}})],1)]),e("q-resize-observer",{on:{resize:t.initCanvas}})],1)},a=[],r=(e("6b54"),e("06db"),e("5d0f")),o=e.n(r),l=e("2ef0"),c=300,u=3,m="rgba(255,0,0,0.25)",p="rgba(0,255,0,0.25)",f="rgba(0,0,255,0.25)",g=function(t,s,e){return Math.abs(t-s)/e},b={name:"MyColor",data:function(){return{sample:{r:[],g:[],b:[]},history:{r:[],g:[],b:[],all:[],mean:[],stdev:[],z:[]},chart:null,timer:null,show:this.$q.localStorage.getItem("show")||!1,samples:this.$q.localStorage.getItem("samples")||c,min:10,max:window.innerWidth}},computed:{mean:function(){return{r:Object(l["mean"])(this.sample.r),g:Object(l["mean"])(this.sample.g),b:Object(l["mean"])(this.sample.b),sample:Object(l["mean"])(this.history.all.slice(0,this.samples)),history:Object(l["mean"])(this.history.all)}},stdev:function(){var t=this;return{sample:Math.sqrt(Object(l["mean"])(this.history.all.slice(0,this.samples).map((function(s){return Math.pow(s-t.mean.sample,2)})))),history:Math.sqrt(Object(l["mean"])(this.history.all.map((function(s){return Math.pow(s-t.mean.history,2)}))))}},z:function(){var t=this.mean.sample,s=this.stdev.sample,e=g(this.r,t,s),i=g(this.g,t,s),h=g(this.b,t,s);return Object(l["mean"])([e,i,h])},r:function(){return Math.round(this.mean.r)},g:function(){return Math.round(this.mean.g)},b:function(){return Math.round(this.mean.b)},color:function(){return this.getColor(0).toString()}},methods:{getColor:function(t){var s=new o.a(this.history.r[t],this.history.g[t],this.history.b[t]);return s},run:function(){if(this.samples){while(this.sample.r.length<=this.samples)this.sample.r.unshift(Math.round(255*Math.random())),this.sample.g.unshift(Math.round(255*Math.random())),this.sample.b.unshift(Math.round(255*Math.random()));while(this.sample.r.length>this.samples)this.sample.r.pop(),this.sample.g.pop(),this.sample.b.pop();this.history.r.unshift(this.r),this.history.g.unshift(this.g),this.history.b.unshift(this.b),this.history.all.unshift(this.r,this.g,this.b),this.history.mean.unshift(this.mean.sample),this.history.stdev.unshift(this.stdev.history),this.history.z.unshift(this.z);while(this.history.r.length>this.$refs.canvas.width)this.history.r.pop(),this.history.g.pop(),this.history.b.pop(),this.history.all.pop(),this.history.all.pop(),this.history.all.pop(),this.history.mean.pop(),this.history.stdev.pop(),this.history.z.pop();this.drawChart(),this.timer=requestAnimationFrame(this.run)}},start:function(){this.stop(),this.run()},stop:function(){cancelAnimationFrame(this.timer),this.timer=null},toggleView:function(){this.show=!this.show},togglePlay:function(){this.timer?this.stop():this.start()},initCanvas:function(){this.max=this.$refs.canvas.width=window.innerWidth,this.$refs.canvas.height=window.innerHeight},drawChart:function(){var t=this,s=this.$refs.canvas,e=this.chart,i=u*this.stdev.sample,h=(this.stdev.history,s.height/2),n=(s.height,s.height,s.width),a=n-this.sample.r.length;e.clearRect(0,0,s.width,s.height);for(var r=0;r<this.history.r.length;r++){var o=this.getColor(r),l=s.height*u*this.history.stdev[r]/255;e.strokeStyle=o.clone().tune({l:-10}).toString(),e.lineWidth=1,e.beginPath(),e.moveTo(n-r,h-l),e.lineTo(n-r,h+l),e.stroke();var c=s.height*(1-this.history.mean[r]/255),g=s.height*this.history.z[r]*this.history.stdev[r]/255;e.strokeStyle=o.toString(),e.beginPath(),e.moveTo(n-r,c-g),e.lineTo(n-r,c+g),e.stroke(),e.strokeStyle="rgba(255,255,255,0.25)",e.beginPath(),e.moveTo(n-r,c),e.lineTo(n-r,h),e.stroke()}e.lineWidth=1,["r","g","b"].forEach((function(s){var i=t.history[s];e.strokeStyle="r"===s?m:"g"===s?p:f,e.beginPath(),e.moveTo(n,t.y(i[0])),i.forEach((function(s,i){e.lineTo(n-i,t.y(s))})),e.stroke()})),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.beginPath(),e.moveTo(a,0),e.lineTo(a,s.height),e.stroke();var b=s.height*i/255,y=(1-this.mean.sample/255)*s.height;e.fillStyle="rgba(255,255,255,0.1)",e.fillRect(a,y-b,n-a,2*b),e.fillStyle="rgba(255,255,255,0.2)",e.fillRect(a,Math.min(h,y),n-a,Math.abs(h-y))},y:function(t){return(1-t/255)*this.$refs.canvas.height}},watch:{samples:function(t,s){this.$q.localStorage.set("samples",t),t&&!s&&this.run()},show:function(t){this.$q.localStorage.set("show",t)}},mounted:function(){var t=this.$refs.canvas,s=t.getContext("2d");this.chart=s,this.start()},beforeDestroy:function(){this.stop()}},y=b,d=(e("a535"),e("2877")),v=e("eebe"),w=e.n(v),M=e("c1d0"),C=e("3980"),k=Object(d["a"])(y,n,a,!1,null,null,null),x=k.exports;w()(k,"components",{QSlider:M["a"],QResizeObserver:C["a"]});var S={name:"PageIndex",components:{MyColor:x}},$=S,O=e("9989"),j=Object(d["a"])($,i,h,!1,null,null,null);s["default"]=j.exports;w()(j,"components",{QPage:O["a"]})},a535:function(t,s,e){"use strict";var i=e("e23b"),h=e.n(i);h.a},e23b:function(t,s,e){}}]);
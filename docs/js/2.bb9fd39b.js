(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"8b24":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("q-page",{staticClass:"flex flex-center"},[e("MyColor",{staticClass:"fullscreen"})],1)},n=[],a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-color",style:{background:t.color},on:{click:t.togglePlay,contextmenu:function(s){return s.preventDefault(),t.toggleView(s)}}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"charts"},[e("canvas",{ref:"canvas",staticClass:"absolute-full"}),e("div",{staticClass:"samples absolute-full flex flex-center",on:{click:function(t){t.stopPropagation()}}},[e("q-slider",{staticClass:"absolute",attrs:{color:"accent",min:0,max:t.max,step:10,label:"","label-text-color":"secondary",reverse:""},model:{value:t.samples,callback:function(s){t.samples=s},expression:"samples"}})],1)]),e("q-resize-observer",{on:{resize:t.initCanvas}})],1)},r=[],h=(e("6b54"),e("06db"),e("5d0f")),o=e.n(h),l=e("2ef0"),c=300,u=3,m={name:"MyColor",data:function(){return{sample:{r:[],g:[],b:[]},history:{r:[],g:[],b:[],all:[]},chart:null,timer:null,show:this.$q.localStorage.getItem("show")||!1,samples:this.$q.localStorage.getItem("samples")||c,min:10,max:window.innerWidth}},computed:{mean:function(){return{r:Object(l["mean"])(this.sample.r),g:Object(l["mean"])(this.sample.g),b:Object(l["mean"])(this.sample.b),sample:Object(l["mean"])(this.history.all.slice(0,this.samples)),history:Object(l["mean"])(this.history.all)}},stdev:function(){var t=this;return Object(l["mean"])(this.history.all.slice(0,this.samples).map((function(s){return Math.abs(s-t.mean.sample)})))},stdevHistory:function(){var t=this;return Object(l["mean"])(this.history.all.map((function(s){return Math.abs(s-t.mean.history)})))},zScores:function(){var t=127.5,s=this.stdevHistory,e={r:this.history.r.map((function(e){return Math.abs(e-t)/s})),g:this.history.g.map((function(e){return Math.abs(e-t)/s})),b:this.history.b.map((function(e){return Math.abs(e-t)/s})),all:null};return e.all=e.r.map((function(t,s){t=t;var i=e.g[s],n=e.b[s];return Object(l["mean"])(t,i,n)})),e.all},r:function(){return Math.round(this.mean.r)},g:function(){return Math.round(this.mean.g)},b:function(){return Math.round(this.mean.b)},color:function(){return this.getColor(0).toString(o.a.RGB)}},methods:{getColor:function(t){var s=new o.a(this.history.r[t],this.history.g[t],this.history.b[t]),e=this.zScores[t];return s.tune({s:(e-u)*u}),s},run:function(){if(this.samples){while(this.sample.r.length<=this.samples)this.sample.r.unshift(Math.round(255*Math.random())),this.sample.g.unshift(Math.round(255*Math.random())),this.sample.b.unshift(Math.round(255*Math.random()));while(this.sample.r.length>this.samples)this.sample.r.pop(),this.sample.g.pop(),this.sample.b.pop();this.history.r.unshift(this.r),this.history.g.unshift(this.g),this.history.b.unshift(this.b),this.history.all.unshift(this.r,this.g,this.b);while(this.history.r.length>this.$refs.canvas.width)this.history.r.pop(),this.history.g.pop(),this.history.b.pop(),this.history.all.pop(),this.history.all.pop(),this.history.all.pop();this.drawChart(),this.timer=requestAnimationFrame(this.run)}},start:function(){this.stop(),this.run()},stop:function(){cancelAnimationFrame(this.timer),this.timer=null},toggleView:function(){this.show=!this.show},togglePlay:function(){this.timer?this.stop():this.start()},initCanvas:function(){this.max=this.$refs.canvas.width=window.innerWidth,this.$refs.canvas.height=window.innerHeight},drawChart:function(){var t=this,s=this.$refs.canvas,e=this.chart,i=u*this.stdev,n=u*this.stdevHistory,a=s.height/2,r=a-s.height/6,h=a+s.height/6,l=s.width,c=l-this.sample.r.length;e.clearRect(0,0,s.width,s.height);for(var m=0;m<this.history.r.length;m++)e.strokeStyle=this.getColor(m).toString(o.a.RGB),e.lineWidth=1,e.beginPath(),e.moveTo(l-m,r),e.lineTo(l-m,h),e.stroke();e.lineWidth=1,["r","g","b"].forEach((function(s){var i=t.history[s];e.strokeStyle="r"===s?"red":"g"===s?"green":"blue",e.beginPath(),e.moveTo(l,t.y(i[0])),i.forEach((function(s,i){e.lineTo(l-i,t.y(s))})),e.stroke()})),e.strokeStyle="rgba(255, 255, 255, 0.5)",e.lineWidth=1,e.beginPath(),e.moveTo(c,0),e.lineTo(c,s.height),e.stroke();var f=function(t,i,n,r){var h=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t=s.height*t/255,r=(1-r/255)*s.height,e.fillRect(i,(h?r:a)-t,n-i,2*t),e.fillRect(i,Math.min(a,r),n-i,Math.abs(a-r))};e.fillStyle="rgba(0,0,0,0.1)",f(n,0,l,this.mean.history),e.fillStyle="rgba(255,255,255,0.1)",f(i,c,l,this.mean.sample,!0)},y:function(t){return(1-t/255)*this.$refs.canvas.height}},watch:{samples:function(t,s){this.$q.localStorage.set("samples",t),t&&!s&&this.run()},show:function(t){this.$q.localStorage.set("show",t)}},mounted:function(){var t=this.$refs.canvas,s=t.getContext("2d");this.chart=s,this.start()},beforeDestroy:function(){this.stop()}},f=m,p=(e("a535"),e("2877")),g=e("eebe"),b=e.n(g),d=e("c1d0"),y=e("3980"),v=Object(p["a"])(f,a,r,!1,null,null,null),w=v.exports;b()(v,"components",{QSlider:d["a"],QResizeObserver:y["a"]});var M={name:"PageIndex",components:{MyColor:w}},C=M,x=e("9989"),S=Object(p["a"])(C,i,n,!1,null,null,null);s["default"]=S.exports;b()(S,"components",{QPage:x["a"]})},a535:function(t,s,e){"use strict";var i=e("e23b"),n=e.n(i);n.a},e23b:function(t,s,e){}}]);